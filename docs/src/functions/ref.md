# Reference - 引用函数

| 函数名          | 说明                                                                                               |
| --------------- | -------------------------------------------------------------------------------------------------- |
| `all(x, n)`     | 当 `n` 周期内 `x` 全部为 `true`，则返回 `1`，否则返回 `0`。`n` 为 `0` 则表示从第一个有效值开始     |
| `any(x, n)`     | 当 `n` 周期内 `x` 至少有一个 `true`，则返回 `1`，否则返回 `0`。`n` 为 `0` 则表示从第一个有效值开始 |
| `barslast(x)`   | 取 `x` 上一次为 `true` 时到现在的周期数                                                            |
| `barssince(x)`  | 取 `x` 第一次为 `true` 到现在的周期数                                                              |
| `count(x, n)`   | 取 `n` 周期内 `x` 为 `true` 的次数，`n` 为 `0` 则表示从第一个有效值开始                            |
| `dma(x, n)`     | 求 `x` 的 动态移动平均                                                                           |
| `ema(x, n)`     | 求 `x` 的 `n` 日指数平滑移动平均                                                                   |
| `filter(x, n)`  | 当 `x` 为 `true` 后返回 `1`，并且其后 `n` 周期都总是返回 `0`                                       |
| `hhv(x, n)`     | 求 `n` 周期内 `x` 的最大值，`n` 为 `0` 则表示从第一个有效值开始                                    |
| `hhvbars(x, n)` | 求 `n` 周期内 `x` 的最大值到当前的周期数，`n` 为 `0` 则表示从第一个有效值开始                      |
| `llv(x, n)`     | 求 `n` 周期内 `x` 的最小值，`n` 为 `0` 则表示从第一个有效值开始                                    |
| `llvbars(x, n)` | 求 `n` 周期内 `x` 的最小值到当前的周期数，`n` 为 `0` 则表示从第一个有效值开始                      |
| `sum(x, n)`     | 统计 `n` 周期内 `x` 的总和，`n` 为 `0` 则表示从第一个有效值开始                                    |
| `mular(x, n)`   | 统计 `n` 周期内 `x` 的乘积，`n` 为 `0` 则表示从第一个有效值开始                                    |
| `ref(x, n)`     | 引用 `n` 周期前的 `x` 值                                                                           |
| `ma(x, n)`      | 取 `n` 周期内 `x` 的简单平均值，`n` 为 `0` 则表示从第一个有效值开始                                |
| `mema(x, n)`    | 取 `n` 周期内 `x` 的改良指数平滑移动平均值                                                         |
| `sma(x, n)`     | 取 `n` 周期内 `x` 的移动平均值                                                                     |
| `tma(x, n)`     | 取 `n` 周期内 `x` 的递归移动平均值                                                                 |
| `wma(x, n)`     | 取 `n` 周期内 `x` 的加权移动平均值                                                                 |
| `barscount(x)`  | 取 `x` 第一个有效值到当前的周期数                                                                  |
| `last(x)`       | 统计 `x` 连续为 `true` 的周期数                                                                    |
| `sumbars(a, b)` | 求 `a` 向前累加直到大于等于 `b` 的周期数                                                           |
| `hod(x, n)`     | 求当前 `x` 是 `n` 周期内的第几个高值                                                               |
| `lod(x, n)`     | 求当前 `x` 是 `n` 周期内的第几个低值                                                               |
